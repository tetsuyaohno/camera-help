# ファイル転送画面操作マニュアル

## 1. 画面起動と戻る
- 前画面の「送　信」ボタンなどからファイル転送画面（`FileActivity`）が起動します。  
- 画面左上の **戻るボタン** ↩️をタップすると、ファイル転送画面を閉じて前の画面に戻ります :contentReference[oaicite:9]{index=9}

## 2. 写真一覧の表示
- 画面に写真のプレビューが表示されます :contentReference[oaicite:10]{index=10}  
- 権限が未付与の場合は読み込みダイアログが表示されます、「許可する」にして権限を付与してください。

## 3. 表示フィルター切り替え
- 画面下部のラジオボタンで、XML 内のステータスに応じて表示を絞り込みできます：  
  - 未送信（“未送信”）  
  - 送信済（“送信済”）  
  - 両方（“両方”）  
- 選択を切り替えると、該当ステータスの写真のみ再読み込みされます :contentReference[oaicite:11]{index=11}

## 4. 全選択・選択解除
- **全選択ボタン**をタップすると、一覧の全画像が選択状態になります :contentReference[oaicite:12]{index=12}  
- **解除ボタン**をタップすると、選択中の画像がすべてクリアされます :contentReference[oaicite:13]{index=13}

## 5. 選択数の確認
- 画面下部の「〇件選択中」テキストで、現在選択中の件数をリアルタイムに確認できます :contentReference[oaicite:14]{index=14}

## 6. ファイル送信開始
- **送　信ボタン** をタップすると、選択中の画像をアップロード対象として内部セッションに登録し、設定されたクラウドサービスの処理を開始します :contentReference[oaicite:15]{index=15}  
- 別途ユーザー様において各クラウドサービスとの契約が必要となります。
  一般的に1工事分の写真ファイル程度（数GB）であれば無料枠で足りることが多いです。
- サービスごとの動作：  
  - **Box** → 認証（初回のみ）→フォルダ選択（選択のみ）→アップロードを実行 :contentReference[oaicite:16]{index=16}  
  - **DropBox** → 認証（初回のみ）→フォルダ選択（選択のみ）→アップロードを実行 :contentReference[oaicite:17]{index=17}  
  - **GoogleDrive** → 対応していません。
  - ※写真の転送先フォルダは各クラウドサービスにアクセスしてあらかじめ作成しておく必要があります。
    本アプリケーションではフォルダ作成には対応していません。

## 7. アップロード完了後の挙動
- Box／DropBox はそれぞれフォルダ選択後にアップロードを行い、完了すると以下の挙動となります：  
  1. 「全ファイルアップロード完了」のトースト表示  
  2. 元の画面に戻り、クラウドサービスの画面が閉じられます :contentReference[oaicite:18]{index=18}

## 8. 注意事項 
- 転送後のファイル操作（閲覧・共有・削除など）は各クラウドサービスのUIに依存します。  
- **保存フォルダ** は事前に端末およびクラウド側で作成しておいてください。  
- 各クラウドサービスの **アカウント取得** と認証設定が完了している必要があります。

## 9. デバイス内の写真ファイルの保存場所
- デバイス本体には黒板入り写真と黒板無し写真の両方が保存されています。
- ※設定で「黒板なし」に設定されている場合は黒板無し写真2枚になります。
- アプリの写真表示画面では黒板入り写真のみが表示される設定に固定されています。
- **保存場所**:
  -  デバイスのトップフォルダ（メインストレージ、ローカル、SDCardや0というのもあります）内にPicturesやImagesというフォルダがあります。
  - その中に保存されています。
  - ※カメラ用のフォルダ（一般にDCIP）とは違います。
  - **黒板入写真**
    - Pictures/Images内のStampedImagesというフォルダ内にあります。
  - **黒板なし写真**
    - Pictures/Images内のCameraX-Imageというフォルダ内にあります。
